# return from a function body.

.reg returnInstructionPtr, %d
.reg restoreRegister,      %c


# pop the return value and write it to FUNC_RETV.
@pop_mem_v FUNC_RETV

@pop_reg returnInstructionPtr

# restore FUNC_LOCS
@pop_reg restoreRegister
ldc %a, FUNC_LOCS
stb %a, restoreRegister

# restore FUNC_ARGS
@pop_reg restoreRegister
ldc %a, FUNC_ARGS
stb %a, restoreRegister

jump returnInstructionPtr
